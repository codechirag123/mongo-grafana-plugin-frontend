/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
define(["@grafana/data","@grafana/runtime","rxjs","react","@grafana/ui"], (__WEBPACK_EXTERNAL_MODULE__grafana_data__, __WEBPACK_EXTERNAL_MODULE__grafana_runtime__, __WEBPACK_EXTERNAL_MODULE_rxjs__, __WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE__grafana_ui__) => { return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./components/ConfigEditor.tsx":
/*!*************************************!*\
  !*** ./components/ConfigEditor.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConfigEditor: () => (/* binding */ ConfigEditor)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @grafana/ui */ \"@grafana/ui\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__);\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _object_spread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _define_property(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _object_spread_props(target, source) {\n    source = source != null ? source : {};\n    if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n        ownKeys(Object(source)).forEach(function(key) {\n            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n    }\n    return target;\n}\n\n\nfunction ConfigEditor(props) {\n    var _options_jsonData, _options_jsonData1, _options_jsonData2;\n    const { onOptionsChange, options } = props;\n    // Secure field (only sent to the backend)\n    const onFieldChanged = (event, field)=>{\n        const jsonData = _object_spread_props(_object_spread({}, options.jsonData), {\n            [field]: event.target.value\n        });\n        onOptionsChange(_object_spread_props(_object_spread({}, options), {\n            jsonData\n        }));\n    };\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        label: \"mongodb connection string\",\n        labelWidth: 30,\n        interactive: true,\n        tooltip: 'mongodb connection string'\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Input, {\n        required: true,\n        id: \"config-editor-api-key\",\n        value: (_options_jsonData = options.jsonData) === null || _options_jsonData === void 0 ? void 0 : _options_jsonData.mongoConnString,\n        placeholder: \"mongodb+srv://[username:password@]host[/[defaultauthdb][?options]]\",\n        width: 40,\n        onReset: ()=>{},\n        onChange: (event)=>onFieldChanged(event, 'mongoConnString')\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        label: \"mongodb database name\",\n        labelWidth: 30,\n        interactive: true,\n        tooltip: 'mongodb database name'\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Input, {\n        required: true,\n        id: \"config-editor-api-key\",\n        value: (_options_jsonData1 = options.jsonData) === null || _options_jsonData1 === void 0 ? void 0 : _options_jsonData1.databaseName,\n        placeholder: \"dbname\",\n        width: 40,\n        onReset: ()=>{},\n        onChange: (event)=>onFieldChanged(event, 'databaseName')\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        label: \"backend url\",\n        labelWidth: 30,\n        interactive: true,\n        tooltip: 'mongodb plugin backend url'\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Input, {\n        required: true,\n        id: \"config-editor-api-key\",\n        value: (_options_jsonData2 = options.jsonData) === null || _options_jsonData2 === void 0 ? void 0 : _options_jsonData2.backendUri,\n        placeholder: \"http://localhost:4000\",\n        width: 40,\n        onReset: ()=>{},\n        onChange: (event)=>onFieldChanged(event, 'backendUri')\n    })));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL0NvbmZpZ0VkaXRvci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTJDO0FBQ007QUFVMUMsU0FBU0csYUFBYUMsS0FBWTtRQTBCeEJDLG1CQWtCQUEsb0JBa0JBQTtJQTdEZixNQUFNLEVBQUVDLGVBQWUsRUFBRUQsT0FBTyxFQUFFLEdBQUdEO0lBRXJDLDBDQUEwQztJQUMxQyxNQUFNRyxpQkFBaUIsQ0FDckJDLE9BQ0FDO1FBRUEsTUFBTUMsV0FBVyx3Q0FDWkwsUUFBUUssUUFBUTtZQUNuQixDQUFDRCxNQUFNLEVBQUVELE1BQU1HLE1BQU0sQ0FBQ0MsS0FBSzs7UUFFN0JOLGdCQUFnQix3Q0FBS0Q7WUFBU0s7O0lBQ2hDO0lBRUEscUJBQ0Usd0lBQ0UsMkRBQUNULG9EQUFXQTtRQUNWWSxPQUFNO1FBQ05DLFlBQVk7UUFDWkMsYUFBQUE7UUFDQUMsU0FBUztxQkFFVCwyREFBQ2QsOENBQUtBO1FBQ0plLFVBQUFBO1FBQ0FDLElBQUc7UUFDSE4sS0FBSyxHQUFFUCxvQkFBQUEsUUFBUUssUUFBUSxjQUFoQkwsd0NBQUFBLGtCQUFrQmMsZUFBZTtRQUN4Q0MsYUFBWTtRQUNaQyxPQUFPO1FBQ1BDLFNBQVMsS0FBTztRQUNoQkMsVUFBVSxDQUFDZixRQUNURCxlQUFlQyxPQUFPO3VCQUk1QiwyREFBQ1Asb0RBQVdBO1FBQ1ZZLE9BQU07UUFDTkMsWUFBWTtRQUNaQyxhQUFBQTtRQUNBQyxTQUFTO3FCQUVULDJEQUFDZCw4Q0FBS0E7UUFDSmUsVUFBQUE7UUFDQUMsSUFBRztRQUNITixLQUFLLEdBQUVQLHFCQUFBQSxRQUFRSyxRQUFRLGNBQWhCTCx5Q0FBQUEsbUJBQWtCbUIsWUFBWTtRQUNyQ0osYUFBWTtRQUNaQyxPQUFPO1FBQ1BDLFNBQVMsS0FBTztRQUNoQkMsVUFBVSxDQUFDZixRQUNURCxlQUFlQyxPQUFPO3VCQUk1QiwyREFBQ1Asb0RBQVdBO1FBQ1ZZLE9BQU07UUFDTkMsWUFBWTtRQUNaQyxhQUFBQTtRQUNBQyxTQUFTO3FCQUVULDJEQUFDZCw4Q0FBS0E7UUFDSmUsVUFBQUE7UUFDQUMsSUFBRztRQUNITixLQUFLLEdBQUVQLHFCQUFBQSxRQUFRSyxRQUFRLGNBQWhCTCx5Q0FBQUEsbUJBQWtCb0IsVUFBVTtRQUNuQ0wsYUFBWTtRQUNaQyxPQUFPO1FBQ1BDLFNBQVMsS0FBTztRQUNoQkMsVUFBVSxDQUFDZixRQUNURCxlQUFlQyxPQUFPOztBQU1sQyIsInNvdXJjZXMiOlsid2VicGFjazovL3NoYXJtYWNoaXJhZy1tb25nb2RiZ3JhZmFuYS1kYXRhc291cmNlLy4vY29tcG9uZW50cy9Db25maWdFZGl0b3IudHN4P2JlZGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENoYW5nZUV2ZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSW5saW5lRmllbGQsIElucHV0IH0gZnJvbSAnQGdyYWZhbmEvdWknO1xuaW1wb3J0IHsgRGF0YVNvdXJjZVBsdWdpbk9wdGlvbnNFZGl0b3JQcm9wcyB9IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuaW1wb3J0IHsgTXlEYXRhU291cmNlT3B0aW9ucywgTXlTZWN1cmVKc29uRGF0YSB9IGZyb20gJy4uL3R5cGVzJztcblxuaW50ZXJmYWNlIFByb3BzXG4gIGV4dGVuZHMgRGF0YVNvdXJjZVBsdWdpbk9wdGlvbnNFZGl0b3JQcm9wczxcbiAgICBNeURhdGFTb3VyY2VPcHRpb25zLFxuICAgIE15U2VjdXJlSnNvbkRhdGFcbiAgPiB7fVxuXG5leHBvcnQgZnVuY3Rpb24gQ29uZmlnRWRpdG9yKHByb3BzOiBQcm9wcykge1xuICBjb25zdCB7IG9uT3B0aW9uc0NoYW5nZSwgb3B0aW9ucyB9ID0gcHJvcHM7XG5cbiAgLy8gU2VjdXJlIGZpZWxkIChvbmx5IHNlbnQgdG8gdGhlIGJhY2tlbmQpXG4gIGNvbnN0IG9uRmllbGRDaGFuZ2VkID0gKFxuICAgIGV2ZW50OiBDaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PixcbiAgICBmaWVsZDogc3RyaW5nXG4gICkgPT4ge1xuICAgIGNvbnN0IGpzb25EYXRhID0ge1xuICAgICAgLi4ub3B0aW9ucy5qc29uRGF0YSxcbiAgICAgIFtmaWVsZF06IGV2ZW50LnRhcmdldC52YWx1ZSxcbiAgICB9O1xuICAgIG9uT3B0aW9uc0NoYW5nZSh7IC4uLm9wdGlvbnMsIGpzb25EYXRhIH0pO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxJbmxpbmVGaWVsZFxuICAgICAgICBsYWJlbD1cIm1vbmdvZGIgY29ubmVjdGlvbiBzdHJpbmdcIlxuICAgICAgICBsYWJlbFdpZHRoPXszMH1cbiAgICAgICAgaW50ZXJhY3RpdmVcbiAgICAgICAgdG9vbHRpcD17J21vbmdvZGIgY29ubmVjdGlvbiBzdHJpbmcnfVxuICAgICAgPlxuICAgICAgICA8SW5wdXRcbiAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgIGlkPVwiY29uZmlnLWVkaXRvci1hcGkta2V5XCJcbiAgICAgICAgICB2YWx1ZT17b3B0aW9ucy5qc29uRGF0YT8ubW9uZ29Db25uU3RyaW5nfVxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwibW9uZ29kYitzcnY6Ly9bdXNlcm5hbWU6cGFzc3dvcmRAXWhvc3RbL1tkZWZhdWx0YXV0aGRiXVs/b3B0aW9uc11dXCJcbiAgICAgICAgICB3aWR0aD17NDB9XG4gICAgICAgICAgb25SZXNldD17KCkgPT4ge319XG4gICAgICAgICAgb25DaGFuZ2U9eyhldmVudDogQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+XG4gICAgICAgICAgICBvbkZpZWxkQ2hhbmdlZChldmVudCwgJ21vbmdvQ29ublN0cmluZycpXG4gICAgICAgICAgfVxuICAgICAgICAvPlxuICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICAgIDxJbmxpbmVGaWVsZFxuICAgICAgICBsYWJlbD1cIm1vbmdvZGIgZGF0YWJhc2UgbmFtZVwiXG4gICAgICAgIGxhYmVsV2lkdGg9ezMwfVxuICAgICAgICBpbnRlcmFjdGl2ZVxuICAgICAgICB0b29sdGlwPXsnbW9uZ29kYiBkYXRhYmFzZSBuYW1lJ31cbiAgICAgID5cbiAgICAgICAgPElucHV0XG4gICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICBpZD1cImNvbmZpZy1lZGl0b3ItYXBpLWtleVwiXG4gICAgICAgICAgdmFsdWU9e29wdGlvbnMuanNvbkRhdGE/LmRhdGFiYXNlTmFtZX1cbiAgICAgICAgICBwbGFjZWhvbGRlcj1cImRibmFtZVwiXG4gICAgICAgICAgd2lkdGg9ezQwfVxuICAgICAgICAgIG9uUmVzZXQ9eygpID0+IHt9fVxuICAgICAgICAgIG9uQ2hhbmdlPXsoZXZlbnQ6IENoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PlxuICAgICAgICAgICAgb25GaWVsZENoYW5nZWQoZXZlbnQsICdkYXRhYmFzZU5hbWUnKVxuICAgICAgICAgIH1cbiAgICAgICAgLz5cbiAgICAgIDwvSW5saW5lRmllbGQ+XG4gICAgICA8SW5saW5lRmllbGRcbiAgICAgICAgbGFiZWw9XCJiYWNrZW5kIHVybFwiXG4gICAgICAgIGxhYmVsV2lkdGg9ezMwfVxuICAgICAgICBpbnRlcmFjdGl2ZVxuICAgICAgICB0b29sdGlwPXsnbW9uZ29kYiBwbHVnaW4gYmFja2VuZCB1cmwnfVxuICAgICAgPlxuICAgICAgICA8SW5wdXRcbiAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgIGlkPVwiY29uZmlnLWVkaXRvci1hcGkta2V5XCJcbiAgICAgICAgICB2YWx1ZT17b3B0aW9ucy5qc29uRGF0YT8uYmFja2VuZFVyaX1cbiAgICAgICAgICBwbGFjZWhvbGRlcj1cImh0dHA6Ly9sb2NhbGhvc3Q6NDAwMFwiXG4gICAgICAgICAgd2lkdGg9ezQwfVxuICAgICAgICAgIG9uUmVzZXQ9eygpID0+IHt9fVxuICAgICAgICAgIG9uQ2hhbmdlPXsoZXZlbnQ6IENoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PlxuICAgICAgICAgICAgb25GaWVsZENoYW5nZWQoZXZlbnQsICdiYWNrZW5kVXJpJylcbiAgICAgICAgICB9XG4gICAgICAgIC8+XG4gICAgICA8L0lubGluZUZpZWxkPlxuICAgIDwvPlxuICApO1xufVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiSW5saW5lRmllbGQiLCJJbnB1dCIsIkNvbmZpZ0VkaXRvciIsInByb3BzIiwib3B0aW9ucyIsIm9uT3B0aW9uc0NoYW5nZSIsIm9uRmllbGRDaGFuZ2VkIiwiZXZlbnQiLCJmaWVsZCIsImpzb25EYXRhIiwidGFyZ2V0IiwidmFsdWUiLCJsYWJlbCIsImxhYmVsV2lkdGgiLCJpbnRlcmFjdGl2ZSIsInRvb2x0aXAiLCJyZXF1aXJlZCIsImlkIiwibW9uZ29Db25uU3RyaW5nIiwicGxhY2Vob2xkZXIiLCJ3aWR0aCIsIm9uUmVzZXQiLCJvbkNoYW5nZSIsImRhdGFiYXNlTmFtZSIsImJhY2tlbmRVcmkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/ConfigEditor.tsx\n");

/***/ }),

/***/ "./components/QueryEditor.tsx":
/*!************************************!*\
  !*** ./components/QueryEditor.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   QueryEditor: () => (/* binding */ QueryEditor)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @grafana/ui */ \"@grafana/ui\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../types */ \"./types.ts\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @grafana/runtime */ \"@grafana/runtime\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_grafana_runtime__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ \"rxjs\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(rxjs__WEBPACK_IMPORTED_MODULE_4__);\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) {\n        resolve(value);\n    } else {\n        Promise.resolve(value).then(_next, _throw);\n    }\n}\nfunction _async_to_generator(fn) {\n    return function() {\n        var self = this, args = arguments;\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n            function _next(value) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n            function _throw(err) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n            _next(undefined);\n        });\n    };\n}\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _object_spread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _define_property(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _object_spread_props(target, source) {\n    source = source != null ? source : {};\n    if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n        ownKeys(Object(source)).forEach(function(key) {\n            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n    }\n    return target;\n}\n\n\n\n\n\nconst queryHint = `[\n    {\n      string: \"string\",\n      date: new Date(),\n      id: new ObjectId(\"573a1393f29313caabcdc50e\"),\n      bool: true,\n      float: 12345.4,\n      expandable1: $from,\n      expandable2: $to,\n      expandable3: $intervalMs\n    }\n    {\n      ...more stages\n    }\n  ]`;\nfunction QueryEditor(props) {\n    const { query, datasource: { baseUrl, db }, onChange, onRunQuery } = props;\n    const { collection, queryText, queryType } = query;\n    const [collections, setCollections] = react__WEBPACK_IMPORTED_MODULE_0___default().useState([]);\n    const [spinner, setSpinner] = react__WEBPACK_IMPORTED_MODULE_0___default().useState(true);\n    const [errorMsg, setErrorMsg] = react__WEBPACK_IMPORTED_MODULE_0___default().useState('');\n    react__WEBPACK_IMPORTED_MODULE_0___default().useEffect(()=>{\n        if (!!db && !!baseUrl) {\n            _async_to_generator(function*() {\n                try {\n                    const response = yield (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_3__.getBackendSrv)().fetch({\n                        url: `${baseUrl}/collections`,\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json'\n                        },\n                        data: JSON.stringify(db)\n                    });\n                    const values = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(response);\n                    const collections = values.data;\n                    if (!collection && collections.length > 0) {\n                        onChange(_object_spread_props(_object_spread({}, query), {\n                            collection: collections[0]\n                        }));\n                    }\n                    setCollections(collections);\n                    setSpinner(false);\n                } catch (err) {\n                    var _err_message;\n                    setErrorMsg((_err_message = err === null || err === void 0 ? void 0 : err.message) !== null && _err_message !== void 0 ? _err_message : err);\n                }\n            })();\n        }\n    // eslint-disable-next-line\n    }, [\n        db,\n        baseUrl\n    ]);\n    const queryUI = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Stack, {\n        gap: 0,\n        direction: \"column\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        label: \"Type\",\n        labelWidth: 20\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Select, {\n        width: 20,\n        options: [\n            {\n                label: _types__WEBPACK_IMPORTED_MODULE_2__.QueryType.table,\n                value: _types__WEBPACK_IMPORTED_MODULE_2__.QueryType.table\n            },\n            {\n                label: _types__WEBPACK_IMPORTED_MODULE_2__.QueryType.timeserie,\n                value: _types__WEBPACK_IMPORTED_MODULE_2__.QueryType.timeserie\n            }\n        ],\n        value: queryType,\n        onChange: (sv)=>onChange(_object_spread_props(_object_spread({}, query), {\n                queryType: sv.value\n            }))\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        label: \"Collection Name\",\n        labelWidth: 20\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Select, {\n        width: 50,\n        options: collections.map((collection)=>({\n                label: collection,\n                value: collection\n            })),\n        value: collection,\n        onChange: (sv)=>onChange(_object_spread_props(_object_spread({}, query), {\n                collection: sv.value\n            }))\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {\n        label: \"Aggregation Pipeline\",\n        labelWidth: 20\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.TextArea, {\n        style: {\n            width: 500,\n            minHeight: 200\n        },\n        value: queryText !== null && queryText !== void 0 ? queryText : '',\n        placeholder: queryHint,\n        onChange: (event)=>{\n            onChange(_object_spread_props(_object_spread({}, query), {\n                queryText: event.currentTarget.value\n            }));\n        },\n        onBlur: (event)=>{\n            onChange(_object_spread_props(_object_spread({}, query), {\n                queryText: event.target.value\n            }));\n            onRunQuery();\n        }\n    })));\n    const loadingUI = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Stack, {\n        gap: 0,\n        direction: \"column\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Spinner, null), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Modal, {\n        title: \"error\",\n        isOpen: !!errorMsg\n    }, errorMsg, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Modal.ButtonRow, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Button, {\n        onClick: ()=>setErrorMsg('')\n    }, \"Ok\"))));\n    return spinner ? loadingUI : queryUI;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNO1FBQXVCQyxZQUFZO3FCQUNwRCwyREFBQzdDLGlEQUFRQTtRQUNQcUQsT0FBTztZQUFFUCxPQUFPO1lBQUtRLFdBQVc7UUFBSTtRQUNwQ0wsT0FBTzlCLHNCQUFBQSx1QkFBQUEsWUFBYTtRQUNwQm9DLGFBQWE5QztRQUNiTyxVQUFVLENBQUN3QztZQUNUeEMsU0FBUyx3Q0FBS0o7Z0JBQU9PLFdBQVdxQyxNQUFNQyxhQUFhLENBQUNSLEtBQUs7O1FBQzNEO1FBQ0FTLFFBQVEsQ0FBQ0Y7WUFDUHhDLFNBQVMsd0NBQUtKO2dCQUFPTyxXQUFXcUMsTUFBTUcsTUFBTSxDQUFDVixLQUFLOztZQUNsRGhDO1FBQ0Y7O0lBTVIsTUFBTTJDLDBCQUNKLDJEQUFDM0QsOENBQUtBO1FBQUN5QyxLQUFLO1FBQUdDLFdBQVU7cUJBQ3ZCLDJEQUFDdEMsZ0RBQU9BLHVCQUNSLDJEQUFDRiw4Q0FBS0E7UUFBQzBELE9BQU07UUFBUUMsUUFBUSxDQUFDLENBQUNwQztPQUM1QkEsd0JBQ0QsMkRBQUN2Qiw4Q0FBS0EsQ0FBQzRELFNBQVMsc0JBQ2QsMkRBQUMzRCwrQ0FBTUE7UUFBQzRELFNBQVMsSUFBTXJDLFlBQVk7T0FBSztJQU1oRCxPQUFPSCxVQUFVb0MsWUFBWW5CO0FBQy9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2hhcm1hY2hpcmFnLW1vbmdvZGJncmFmYW5hLWRhdGFzb3VyY2UvLi9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yLnRzeD8wYTAzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuICBJbmxpbmVGaWVsZCxcbiAgVGV4dEFyZWEsXG4gIFN0YWNrLFxuICBTZWxlY3QsXG4gIE1vZGFsLFxuICBCdXR0b24sXG4gIFNwaW5uZXIsXG59IGZyb20gJ0BncmFmYW5hL3VpJztcbmltcG9ydCB7IFF1ZXJ5RWRpdG9yUHJvcHMgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IERhdGFTb3VyY2UgfSBmcm9tICcuLi9kYXRhc291cmNlJztcbmltcG9ydCB7IE15RGF0YVNvdXJjZU9wdGlvbnMsIE15UXVlcnksIFF1ZXJ5VHlwZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGdldEJhY2tlbmRTcnYgfSBmcm9tICdAZ3JhZmFuYS9ydW50aW1lJztcbmltcG9ydCB7IGxhc3RWYWx1ZUZyb20gfSBmcm9tICdyeGpzJztcblxudHlwZSBQcm9wcyA9IFF1ZXJ5RWRpdG9yUHJvcHM8RGF0YVNvdXJjZSwgTXlRdWVyeSwgTXlEYXRhU291cmNlT3B0aW9ucz47XG5cbmNvbnN0IHF1ZXJ5SGludCA9IGBbXG4gICAge1xuICAgICAgc3RyaW5nOiBcInN0cmluZ1wiLFxuICAgICAgZGF0ZTogbmV3IERhdGUoKSxcbiAgICAgIGlkOiBuZXcgT2JqZWN0SWQoXCI1NzNhMTM5M2YyOTMxM2NhYWJjZGM1MGVcIiksXG4gICAgICBib29sOiB0cnVlLFxuICAgICAgZmxvYXQ6IDEyMzQ1LjQsXG4gICAgICBleHBhbmRhYmxlMTogJGZyb20sXG4gICAgICBleHBhbmRhYmxlMjogJHRvLFxuICAgICAgZXhwYW5kYWJsZTM6ICRpbnRlcnZhbE1zXG4gICAgfVxuICAgIHtcbiAgICAgIC4uLm1vcmUgc3RhZ2VzXG4gICAgfVxuICBdYDtcblxuZXhwb3J0IGZ1bmN0aW9uIFF1ZXJ5RWRpdG9yKHByb3BzOiBQcm9wcykge1xuICBjb25zdCB7XG4gICAgcXVlcnksXG4gICAgZGF0YXNvdXJjZTogeyBiYXNlVXJsLCBkYiB9LFxuICAgIG9uQ2hhbmdlLFxuICAgIG9uUnVuUXVlcnksXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgeyBjb2xsZWN0aW9uLCBxdWVyeVRleHQsIHF1ZXJ5VHlwZSB9ID0gcXVlcnk7XG4gIGNvbnN0IFtjb2xsZWN0aW9ucywgc2V0Q29sbGVjdGlvbnNdID0gUmVhY3QudXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgY29uc3QgW3NwaW5uZXIsIHNldFNwaW5uZXJdID0gUmVhY3QudXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvck1zZywgc2V0RXJyb3JNc2ddID0gUmVhY3QudXNlU3RhdGUoJycpO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCEhZGIgJiYgISFiYXNlVXJsKSB7XG4gICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0QmFja2VuZFNydigpLmZldGNoPHN0cmluZ1tdPih7XG4gICAgICAgICAgICB1cmw6IGAke2Jhc2VVcmx9L2NvbGxlY3Rpb25zYCxcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRiKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBhd2FpdCBsYXN0VmFsdWVGcm9tKHJlc3BvbnNlKTtcbiAgICAgICAgICBjb25zdCBjb2xsZWN0aW9ucyA9IHZhbHVlcy5kYXRhO1xuICAgICAgICAgIGlmICghY29sbGVjdGlvbiAmJiBjb2xsZWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBvbkNoYW5nZSh7IC4uLnF1ZXJ5LCBjb2xsZWN0aW9uOiBjb2xsZWN0aW9uc1swXSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0Q29sbGVjdGlvbnMoY29sbGVjdGlvbnMpO1xuICAgICAgICAgIHNldFNwaW5uZXIoZmFsc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgICAgIHNldEVycm9yTXNnKGVycj8ubWVzc2FnZSA/PyBlcnIpO1xuICAgICAgICB9XG4gICAgICB9KSgpO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgfSwgW2RiLCBiYXNlVXJsXSk7XG5cbiAgY29uc3QgcXVlcnlVSSA9IChcbiAgICA8U3RhY2sgZ2FwPXswfSBkaXJlY3Rpb249XCJjb2x1bW5cIj5cbiAgICAgIDxJbmxpbmVGaWVsZCBsYWJlbD1cIlR5cGVcIiBsYWJlbFdpZHRoPXsyMH0+XG4gICAgICAgIDxTZWxlY3RcbiAgICAgICAgICB3aWR0aD17MjB9XG4gICAgICAgICAgb3B0aW9ucz17W1xuICAgICAgICAgICAgeyBsYWJlbDogUXVlcnlUeXBlLnRhYmxlLCB2YWx1ZTogUXVlcnlUeXBlLnRhYmxlIH0sXG4gICAgICAgICAgICB7IGxhYmVsOiBRdWVyeVR5cGUudGltZXNlcmllLCB2YWx1ZTogUXVlcnlUeXBlLnRpbWVzZXJpZSB9LFxuICAgICAgICAgIF19XG4gICAgICAgICAgdmFsdWU9e3F1ZXJ5VHlwZX1cbiAgICAgICAgICBvbkNoYW5nZT17KHN2KSA9PiBvbkNoYW5nZSh7IC4uLnF1ZXJ5LCBxdWVyeVR5cGU6IHN2LnZhbHVlISEgfSl9XG4gICAgICAgIC8+XG4gICAgICA8L0lubGluZUZpZWxkPlxuICAgICAgPElubGluZUZpZWxkIGxhYmVsPVwiQ29sbGVjdGlvbiBOYW1lXCIgbGFiZWxXaWR0aD17MjB9PlxuICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgd2lkdGg9ezUwfVxuICAgICAgICAgIG9wdGlvbnM9e2NvbGxlY3Rpb25zLm1hcCgoY29sbGVjdGlvbikgPT4gKHtcbiAgICAgICAgICAgIGxhYmVsOiBjb2xsZWN0aW9uLFxuICAgICAgICAgICAgdmFsdWU6IGNvbGxlY3Rpb24sXG4gICAgICAgICAgfSkpfVxuICAgICAgICAgIHZhbHVlPXtjb2xsZWN0aW9ufVxuICAgICAgICAgIG9uQ2hhbmdlPXsoc3YpID0+IG9uQ2hhbmdlKHsgLi4ucXVlcnksIGNvbGxlY3Rpb246IHN2LnZhbHVlISEgfSl9XG4gICAgICAgIC8+XG4gICAgICA8L0lubGluZUZpZWxkPlxuICAgICAgPElubGluZUZpZWxkIGxhYmVsPVwiQWdncmVnYXRpb24gUGlwZWxpbmVcIiBsYWJlbFdpZHRoPXsyMH0+XG4gICAgICAgIDxUZXh0QXJlYVxuICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiA1MDAsIG1pbkhlaWdodDogMjAwIH19XG4gICAgICAgICAgdmFsdWU9e3F1ZXJ5VGV4dCA/PyAnJ31cbiAgICAgICAgICBwbGFjZWhvbGRlcj17cXVlcnlIaW50fVxuICAgICAgICAgIG9uQ2hhbmdlPXsoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIG9uQ2hhbmdlKHsgLi4ucXVlcnksIHF1ZXJ5VGV4dDogZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICB9fVxuICAgICAgICAgIG9uQmx1cj17KGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBvbkNoYW5nZSh7IC4uLnF1ZXJ5LCBxdWVyeVRleHQ6IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgICAgIG9uUnVuUXVlcnkoKTtcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICA8L1N0YWNrPlxuICApO1xuXG4gIGNvbnN0IGxvYWRpbmdVSSA9IChcbiAgICA8U3RhY2sgZ2FwPXswfSBkaXJlY3Rpb249XCJjb2x1bW5cIj5cbiAgICAgIDxTcGlubmVyIC8+XG4gICAgICA8TW9kYWwgdGl0bGU9XCJlcnJvclwiIGlzT3Blbj17ISFlcnJvck1zZ30+XG4gICAgICAgIHtlcnJvck1zZ31cbiAgICAgICAgPE1vZGFsLkJ1dHRvblJvdz5cbiAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldEVycm9yTXNnKCcnKX0+T2s8L0J1dHRvbj5cbiAgICAgICAgPC9Nb2RhbC5CdXR0b25Sb3c+XG4gICAgICA8L01vZGFsPlxuICAgIDwvU3RhY2s+XG4gICk7XG5cbiAgcmV0dXJuIHNwaW5uZXIgPyBsb2FkaW5nVUkgOiBxdWVyeVVJO1xufVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiSW5saW5lRmllbGQiLCJUZXh0QXJlYSIsIlN0YWNrIiwiU2VsZWN0IiwiTW9kYWwiLCJCdXR0b24iLCJTcGlubmVyIiwiUXVlcnlUeXBlIiwiZ2V0QmFja2VuZFNydiIsImxhc3RWYWx1ZUZyb20iLCJxdWVyeUhpbnQiLCJRdWVyeUVkaXRvciIsInByb3BzIiwicXVlcnkiLCJkYXRhc291cmNlIiwiYmFzZVVybCIsImRiIiwib25DaGFuZ2UiLCJvblJ1blF1ZXJ5IiwiY29sbGVjdGlvbiIsInF1ZXJ5VGV4dCIsInF1ZXJ5VHlwZSIsImNvbGxlY3Rpb25zIiwic2V0Q29sbGVjdGlvbnMiLCJ1c2VTdGF0ZSIsInNwaW5uZXIiLCJzZXRTcGlubmVyIiwiZXJyb3JNc2ciLCJzZXRFcnJvck1zZyIsInVzZUVmZmVjdCIsInJlc3BvbnNlIiwiZmV0Y2giLCJ1cmwiLCJtZXRob2QiLCJoZWFkZXJzIiwiZGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ2YWx1ZXMiLCJsZW5ndGgiLCJlcnIiLCJtZXNzYWdlIiwicXVlcnlVSSIsImdhcCIsImRpcmVjdGlvbiIsImxhYmVsIiwibGFiZWxXaWR0aCIsIndpZHRoIiwib3B0aW9ucyIsInRhYmxlIiwidmFsdWUiLCJ0aW1lc2VyaWUiLCJzdiIsIm1hcCIsInN0eWxlIiwibWluSGVpZ2h0IiwicGxhY2Vob2xkZXIiLCJldmVudCIsImN1cnJlbnRUYXJnZXQiLCJvbkJsdXIiLCJ0YXJnZXQiLCJsb2FkaW5nVUkiLCJ0aXRsZSIsImlzT3BlbiIsIkJ1dHRvblJvdyIsIm9uQ2xpY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/QueryEditor.tsx\n");

/***/ }),

/***/ "./datasource.ts":
/*!***********************!*\
  !*** ./datasource.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DataSource: () => (/* binding */ DataSource)\n/* harmony export */ });\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @grafana/runtime */ \"@grafana/runtime\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_grafana_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @grafana/data */ \"@grafana/data\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_grafana_data__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types */ \"./types.ts\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ \"rxjs\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(rxjs__WEBPACK_IMPORTED_MODULE_3__);\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) {\n        resolve(value);\n    } else {\n        Promise.resolve(value).then(_next, _throw);\n    }\n}\nfunction _async_to_generator(fn) {\n    return function() {\n        var self = this, args = arguments;\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n            function _next(value) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n            function _throw(err) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n            _next(undefined);\n        });\n    };\n}\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _object_spread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _define_property(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _object_spread_props(target, source) {\n    source = source != null ? source : {};\n    if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n        ownKeys(Object(source)).forEach(function(key) {\n            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n    }\n    return target;\n}\n\n\n\n\nclass DataSource extends _grafana_data__WEBPACK_IMPORTED_MODULE_1__.DataSourceApi {\n    getDefaultQuery(_) {\n        return {\n            collection: '',\n            queryText: '',\n            queryType: _types__WEBPACK_IMPORTED_MODULE_2__.QueryType.timeserie\n        };\n    }\n    filterQuery(query) {\n        // if no query has been provided, prevent the query from being executed\n        return !!query.queryText;\n    }\n    query(options) {\n        var _this = this;\n        return _async_to_generator(function*() {\n            try {\n                const { targets } = options;\n                const payload = _object_spread_props(_object_spread({}, options), {\n                    targets: targets.map((target)=>_object_spread_props(_object_spread({}, target), {\n                            queryText: `{collection: \"${target.collection}\", aggregations: ${target.queryText}}`\n                        })),\n                    db: _object_spread({}, _this.db)\n                });\n                const response = yield _this.request('/query', payload);\n                return {\n                    data: response.data\n                };\n            } catch (err) {\n                var _err_message;\n                return {\n                    data: [],\n                    error: {\n                        message: (_err_message = err === null || err === void 0 ? void 0 : err.message) !== null && _err_message !== void 0 ? _err_message : err\n                    }\n                };\n            }\n        })();\n    }\n    request(url, body) {\n        var _this = this;\n        return _async_to_generator(function*() {\n            const response = (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_0__.getBackendSrv)().fetch({\n                url: `${_this.baseUrl}${url}`,\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                data: JSON.stringify(body)\n            });\n            return (0,rxjs__WEBPACK_IMPORTED_MODULE_3__.lastValueFrom)(response);\n        })();\n    }\n    /**\n   * Checks whether we can connect to the API.\n   */ testDatasource() {\n        var _this = this;\n        return _async_to_generator(function*() {\n            try {\n                const response = yield _this.request('/', {\n                    db: _this.db\n                });\n                if (response.status === 200) {\n                    return {\n                        status: 'success',\n                        message: 'Success'\n                    };\n                } else {\n                    var _response_data_message;\n                    return {\n                        status: 'error',\n                        message: (_response_data_message = response.data.message) !== null && _response_data_message !== void 0 ? _response_data_message : 'unknown'\n                    };\n                }\n            } catch (err) {\n                var _err_message;\n                return {\n                    status: 'error',\n                    message: (_err_message = err === null || err === void 0 ? void 0 : err.message) !== null && _err_message !== void 0 ? _err_message : err\n                };\n            }\n        })();\n    }\n    constructor(instanceSettings){\n        super(instanceSettings), _define_property(this, \"baseUrl\", void 0), _define_property(this, \"db\", void 0);\n        this.baseUrl = instanceSettings.jsonData.backendUri;\n        this.db = {\n            url: instanceSettings.jsonData.mongoConnString,\n            db: instanceSettings.jsonData.databaseName\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0csWUFBWTtRQUM1QztJQUNGO0FBZ0ZGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2hhcm1hY2hpcmFnLW1vbmdvZGJncmFmYW5hLWRhdGFzb3VyY2UvLi9kYXRhc291cmNlLnRzP2VhYjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRmV0Y2hSZXNwb25zZSwgZ2V0QmFja2VuZFNydiB9IGZyb20gJ0BncmFmYW5hL3J1bnRpbWUnO1xuaW1wb3J0IHtcbiAgQ29yZUFwcCxcbiAgRGF0YVF1ZXJ5UmVxdWVzdCxcbiAgRGF0YVF1ZXJ5UmVzcG9uc2UsXG4gIERhdGFTb3VyY2VBcGksXG4gIERhdGFTb3VyY2VJbnN0YW5jZVNldHRpbmdzLFxufSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7XG4gIE15UXVlcnksXG4gIE15RGF0YVNvdXJjZU9wdGlvbnMsXG4gIFRpbWVTZXJpZXNSZXNwb25zZSxcbiAgVGFibGVSZXNwb25zZSxcbiAgQ29ubmVjdGlvblJlc3BvbnNlLFxuICBRdWVyeVR5cGUsXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgbGFzdFZhbHVlRnJvbSB9IGZyb20gJ3J4anMnO1xuXG5pbnRlcmZhY2UgUGx1Z2luQ29uZmlncyB7XG4gIHVybDogc3RyaW5nO1xuICBkYjogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgRGF0YVNvdXJjZSBleHRlbmRzIERhdGFTb3VyY2VBcGk8TXlRdWVyeSwgTXlEYXRhU291cmNlT3B0aW9ucz4ge1xuICBiYXNlVXJsOiBzdHJpbmc7XG4gIGRiOiBQbHVnaW5Db25maWdzO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGluc3RhbmNlU2V0dGluZ3M6IERhdGFTb3VyY2VJbnN0YW5jZVNldHRpbmdzPE15RGF0YVNvdXJjZU9wdGlvbnM+LFxuICApIHtcbiAgICBzdXBlcihpbnN0YW5jZVNldHRpbmdzKTtcbiAgICB0aGlzLmJhc2VVcmwgPSBpbnN0YW5jZVNldHRpbmdzLmpzb25EYXRhLmJhY2tlbmRVcmk7XG4gICAgdGhpcy5kYiA9IHtcbiAgICAgIHVybDogaW5zdGFuY2VTZXR0aW5ncy5qc29uRGF0YS5tb25nb0Nvbm5TdHJpbmcsXG4gICAgICBkYjogaW5zdGFuY2VTZXR0aW5ncy5qc29uRGF0YS5kYXRhYmFzZU5hbWUsXG4gICAgfTtcbiAgfVxuXG4gIGdldERlZmF1bHRRdWVyeShfOiBDb3JlQXBwKTogUGFydGlhbDxNeVF1ZXJ5PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbGxlY3Rpb246ICcnLFxuICAgICAgcXVlcnlUZXh0OiAnJyxcbiAgICAgIHF1ZXJ5VHlwZTogUXVlcnlUeXBlLnRpbWVzZXJpZSxcbiAgICB9O1xuICB9XG5cbiAgZmlsdGVyUXVlcnkocXVlcnk6IE15UXVlcnkpOiBib29sZWFuIHtcbiAgICAvLyBpZiBubyBxdWVyeSBoYXMgYmVlbiBwcm92aWRlZCwgcHJldmVudCB0aGUgcXVlcnkgZnJvbSBiZWluZyBleGVjdXRlZFxuICAgIHJldHVybiAhIXF1ZXJ5LnF1ZXJ5VGV4dDtcbiAgfVxuXG4gIGFzeW5jIHF1ZXJ5KG9wdGlvbnM6IERhdGFRdWVyeVJlcXVlc3Q8TXlRdWVyeT4pOiBQcm9taXNlPERhdGFRdWVyeVJlc3BvbnNlPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgdGFyZ2V0cyB9ID0gb3B0aW9ucztcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIHRhcmdldHM6IHRhcmdldHMubWFwKCh0YXJnZXQpID0+ICh7XG4gICAgICAgICAgLi4udGFyZ2V0LFxuICAgICAgICAgIHF1ZXJ5VGV4dDogYHtjb2xsZWN0aW9uOiBcIiR7dGFyZ2V0LmNvbGxlY3Rpb259XCIsIGFnZ3JlZ2F0aW9uczogJHt0YXJnZXQucXVlcnlUZXh0fX1gLFxuICAgICAgICB9KSksXG4gICAgICAgIGRiOiB7IC4uLnRoaXMuZGIgfSxcbiAgICAgIH07XG4gICAgICBjb25zdCByZXNwb25zZSA9IChhd2FpdCB0aGlzLnJlcXVlc3QoJy9xdWVyeScsIHBheWxvYWQpKSBhcyBGZXRjaFJlc3BvbnNlPFxuICAgICAgICBUaW1lU2VyaWVzUmVzcG9uc2VbXSB8IFRhYmxlUmVzcG9uc2VbXVxuICAgICAgPjtcbiAgICAgIHJldHVybiB7IGRhdGE6IHJlc3BvbnNlLmRhdGEgfTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgcmV0dXJuIHsgZGF0YTogW10sIGVycm9yOiB7IG1lc3NhZ2U6IGVycj8ubWVzc2FnZSA/PyBlcnIgfSB9O1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHJlcXVlc3QoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgYm9keTogb2JqZWN0LFxuICApOiBQcm9taXNlPFxuICAgIEZldGNoUmVzcG9uc2U8VGltZVNlcmllc1Jlc3BvbnNlW10gfCBUYWJsZVJlc3BvbnNlW10gfCBDb25uZWN0aW9uUmVzcG9uc2U+XG4gID4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gZ2V0QmFja2VuZFNydigpLmZldGNoPFxuICAgICAgVGltZVNlcmllc1Jlc3BvbnNlW10gfCBUYWJsZVJlc3BvbnNlW10gfCBDb25uZWN0aW9uUmVzcG9uc2VcbiAgICA+KHtcbiAgICAgIHVybDogYCR7dGhpcy5iYXNlVXJsfSR7dXJsfWAsXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0sXG4gICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICB9KTtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShyZXNwb25zZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgd2UgY2FuIGNvbm5lY3QgdG8gdGhlIEFQSS5cbiAgICovXG4gIGFzeW5jIHRlc3REYXRhc291cmNlKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IChhd2FpdCB0aGlzLnJlcXVlc3QoJy8nLCB7XG4gICAgICAgIGRiOiB0aGlzLmRiLFxuICAgICAgfSkpIGFzIEZldGNoUmVzcG9uc2U8Q29ubmVjdGlvblJlc3BvbnNlPjtcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdTdWNjZXNzJyxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLmRhdGEubWVzc2FnZSA/PyAndW5rbm93bicsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgbWVzc2FnZTogZXJyPy5tZXNzYWdlID8/IGVycixcbiAgICAgIH07XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsiZ2V0QmFja2VuZFNydiIsIkRhdGFTb3VyY2VBcGkiLCJRdWVyeVR5cGUiLCJsYXN0VmFsdWVGcm9tIiwiRGF0YVNvdXJjZSIsImdldERlZmF1bHRRdWVyeSIsIl8iLCJjb2xsZWN0aW9uIiwicXVlcnlUZXh0IiwicXVlcnlUeXBlIiwidGltZXNlcmllIiwiZmlsdGVyUXVlcnkiLCJxdWVyeSIsIm9wdGlvbnMiLCJ0YXJnZXRzIiwicGF5bG9hZCIsIm1hcCIsInRhcmdldCIsImRiIiwicmVzcG9uc2UiLCJyZXF1ZXN0IiwiZGF0YSIsImVyciIsImVycm9yIiwibWVzc2FnZSIsInVybCIsImJvZHkiLCJmZXRjaCIsImJhc2VVcmwiLCJtZXRob2QiLCJoZWFkZXJzIiwiSlNPTiIsInN0cmluZ2lmeSIsInRlc3REYXRhc291cmNlIiwic3RhdHVzIiwiY29uc3RydWN0b3IiLCJpbnN0YW5jZVNldHRpbmdzIiwianNvbkRhdGEiLCJiYWNrZW5kVXJpIiwibW9uZ29Db25uU3RyaW5nIiwiZGF0YWJhc2VOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./datasource.ts\n");

/***/ }),

/***/ "./module.ts":
/*!*******************!*\
  !*** ./module.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   plugin: () => (/* binding */ plugin)\n/* harmony export */ });\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @grafana/data */ \"@grafana/data\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_grafana_data__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _datasource__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./datasource */ \"./datasource.ts\");\n/* harmony import */ var _components_ConfigEditor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/ConfigEditor */ \"./components/ConfigEditor.tsx\");\n/* harmony import */ var _components_QueryEditor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/QueryEditor */ \"./components/QueryEditor.tsx\");\n\n\n\n\nconst plugin = new _grafana_data__WEBPACK_IMPORTED_MODULE_0__.DataSourcePlugin(_datasource__WEBPACK_IMPORTED_MODULE_1__.DataSource).setConfigEditor(_components_ConfigEditor__WEBPACK_IMPORTED_MODULE_2__.ConfigEditor).setQueryEditor(_components_QueryEditor__WEBPACK_IMPORTED_MODULE_3__.QueryEditor);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9tb2R1bGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWlEO0FBQ1A7QUFDZTtBQUNGO0FBR2hELE1BQU1JLFNBQVMsSUFBSUosMkRBQWdCQSxDQUEyQ0MsbURBQVVBLEVBQzVGSSxlQUFlLENBQUNILGtFQUFZQSxFQUM1QkksY0FBYyxDQUFDSCxnRUFBV0EsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3NoYXJtYWNoaXJhZy1tb25nb2RiZ3JhZmFuYS1kYXRhc291cmNlLy4vbW9kdWxlLnRzP2MyMTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGF0YVNvdXJjZVBsdWdpbiB9IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuaW1wb3J0IHsgRGF0YVNvdXJjZSB9IGZyb20gJy4vZGF0YXNvdXJjZSc7XG5pbXBvcnQgeyBDb25maWdFZGl0b3IgfSBmcm9tICcuL2NvbXBvbmVudHMvQ29uZmlnRWRpdG9yJztcbmltcG9ydCB7IFF1ZXJ5RWRpdG9yIH0gZnJvbSAnLi9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yJztcbmltcG9ydCB7IE15UXVlcnksIE15RGF0YVNvdXJjZU9wdGlvbnMgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IHBsdWdpbiA9IG5ldyBEYXRhU291cmNlUGx1Z2luPERhdGFTb3VyY2UsIE15UXVlcnksIE15RGF0YVNvdXJjZU9wdGlvbnM+KERhdGFTb3VyY2UpXG4gIC5zZXRDb25maWdFZGl0b3IoQ29uZmlnRWRpdG9yKVxuICAuc2V0UXVlcnlFZGl0b3IoUXVlcnlFZGl0b3IpO1xuIl0sIm5hbWVzIjpbIkRhdGFTb3VyY2VQbHVnaW4iLCJEYXRhU291cmNlIiwiQ29uZmlnRWRpdG9yIiwiUXVlcnlFZGl0b3IiLCJwbHVnaW4iLCJzZXRDb25maWdFZGl0b3IiLCJzZXRRdWVyeUVkaXRvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./module.ts\n");

/***/ }),

/***/ "./types.ts":
/*!******************!*\
  !*** ./types.ts ***!
  \******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   QueryType: () => (/* binding */ QueryType)\n/* harmony export */ });\nvar QueryType;\n(function(QueryType) {\n    QueryType[\"table\"] = \"table\";\n    QueryType[\"timeserie\"] = \"timeserie\";\n})(QueryType || (QueryType = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi90eXBlcy50cyIsIm1hcHBpbmdzIjoiOzs7OztVQUdZQTs7O0dBQUFBLGNBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2hhcm1hY2hpcmFnLW1vbmdvZGJncmFmYW5hLWRhdGFzb3VyY2UvLi90eXBlcy50cz85MGNkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGFTb3VyY2VKc29uRGF0YSB9IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuaW1wb3J0IHsgRGF0YVF1ZXJ5IH0gZnJvbSAnQGdyYWZhbmEvc2NoZW1hJztcblxuZXhwb3J0IGVudW0gUXVlcnlUeXBlIHtcbiAgdGFibGUgPSAndGFibGUnLFxuICB0aW1lc2VyaWUgPSAndGltZXNlcmllJyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNeVF1ZXJ5IGV4dGVuZHMgRGF0YVF1ZXJ5IHtcbiAgY29sbGVjdGlvbjogc3RyaW5nO1xuICBxdWVyeVRleHQ6IHN0cmluZztcbiAgcXVlcnlUeXBlOiBRdWVyeVR5cGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGltZVNlcmllc1Jlc3BvbnNlIHtcbiAgdGFyZ2V0OiBzdHJpbmc7XG4gIGRhdGFwb2ludHM6IG9iamVjdFtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRhYmxlUmVzcG9uc2Uge1xuICB0eXBlOiBzdHJpbmc7XG4gIHJvd3M6IG9iamVjdFtdO1xuICBjb2x1bW5zOiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb25uZWN0aW9uUmVzcG9uc2Uge1xuICBzdGF0dXM6IHN0cmluZztcbiAgbWVzc2FnZTogc3RyaW5nO1xufVxuXG4vKipcbiAqIFRoZXNlIGFyZSBvcHRpb25zIGNvbmZpZ3VyZWQgZm9yIGVhY2ggRGF0YVNvdXJjZSBpbnN0YW5jZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIE15RGF0YVNvdXJjZU9wdGlvbnMgZXh0ZW5kcyBEYXRhU291cmNlSnNvbkRhdGEge1xuICBiYWNrZW5kVXJpOiBzdHJpbmc7XG4gIG1vbmdvQ29ublN0cmluZzogc3RyaW5nO1xuICBkYXRhYmFzZU5hbWU6IHN0cmluZztcbn1cblxuLyoqXG4gKiBWYWx1ZSB0aGF0IGlzIHVzZWQgaW4gdGhlIGJhY2tlbmQsIGJ1dCBuZXZlciBzZW50IG92ZXIgSFRUUCB0byB0aGUgZnJvbnRlbmRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNeVNlY3VyZUpzb25EYXRhIHt9XG4iXSwibmFtZXMiOlsiUXVlcnlUeXBlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./types.ts\n");

/***/ }),

/***/ "@grafana/data":
/*!********************************!*\
  !*** external "@grafana/data" ***!
  \********************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_data__;

/***/ }),

/***/ "@grafana/runtime":
/*!***********************************!*\
  !*** external "@grafana/runtime" ***!
  \***********************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_runtime__;

/***/ }),

/***/ "@grafana/ui":
/*!******************************!*\
  !*** external "@grafana/ui" ***!
  \******************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_ui__;

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_react__;

/***/ }),

/***/ "rxjs":
/*!***********************!*\
  !*** external "rxjs" ***!
  \***********************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_rxjs__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./module.ts");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});;